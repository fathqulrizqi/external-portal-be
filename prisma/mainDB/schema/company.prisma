model CompanySegment {
  segmentId   Int       @id @default(autoincrement())
  segmentName String    @unique @db.VarChar(100)
  description String?   @db.VarChar(255)
  companies   CompanySegmentLink[]
}

model Company {
  companyId           String          @id @default(uuid()) @db.Uuid
  urlImage            String?
  companyName         String?
  companyStatus       String? //will be used for differentiating between active, inactive, blacklisted, etc.
  companyTelpFax      String?
  companyCity         String?
  companyAddress      String?
  companyEmail        String?
  npwp                String? //tax identification number
  createdAt           DateTime        @default(now())
  updatedAt           DateTime        @updatedAt
  companyCode         String? //unique company code/id used internally
  companyType         String? //will be used for differentiating between vendor, consultant, contractor, etc.
  application         String          @default("External Portal")
  segments            CompanySegmentLink[]
  profile             Profile[] //relation to Profile/user model
  formL9              FormL9?

  @@index([companyName])
  @@index([npwp])
  @@index([companyEmail])
}

model CompanySegmentLink {
  id          Int      @id @default(autoincrement())
  companyId   String   @db.Uuid
  segmentId   Int
  company     Company  @relation(fields: [companyId], references: [companyId])
  segment     CompanySegment @relation(fields: [segmentId], references: [segmentId])

  @@unique([companyId, segmentId])
}
